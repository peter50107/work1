
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <title>小算盤</title>
    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">

<style>
/* Move down content because we have a fixed navbar that is 50px tall */
body {
  padding-top: 60px;
  padding-bottom: 20px;
}
</style>
  
  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">小算盤</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
        </div><!--/.navbar-collapse -->
      </div>
    </nav>

    <div class="container">
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-md-4">
        </div>
        <div class="col-md-4">
          <form name="form1">
            <input type="text" id="name"class="form-control" style="text-align: right" ><br/>
            <p>
       
			<button type="button" class="btn btn-lg btn-success"onclick="add()">+</button>	
			<button type="button" class="btn btn-lg btn-success"onclick="sub()">–</button>
			<button type="button" class="btn btn-lg btn-success"onclick="bob()">×</button>
			<button type="button" class="btn btn-lg btn-success"onclick="did()">÷</button>
			</p>
			<p>
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(0)">0</button>
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(7)">7</button>
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(8)">8</button>
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(9)">9</button>
			</p>
			<p>
			<button type="button" class="btn btn-lg btn-warning"onclick="bac()">C</button>
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(4)">4</button>
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(5)">5</button>
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(6)">6</button>
			</p>
			<p>
			<button type="button" class="btn btn-lg btn-warning"onclick="cls()">D</button>	
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(1)">1</button>
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(2)">2</button>
			<button type="button" class="btn btn-lg btn-primary"onclick="evt(3)">3</button>
			</p>
			<p>
			<button type="button" class="btn btn-lg btn-info"onclick="percent()">％</button>
			<button type="button" class="btn btn-lg btn-info"onclick="pont()">·</button>
			<button type="button" class="btn btn-lg btn-info"onclick="dob()">±</button>
			<button type="button" class="btn btn-lg btn-danger"onclick="ans()">=</button>
			</p>
		  </form>
         </div>
        </div>
        <div class="col-md-4">
        </div>
      
      <hr>
      <footer>
        <p>☆陳晉偉製作2016/1/2★</p>
      </footer>
    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script>
	    var num=0;
      var sing="";
      var count=1;
      var arl="";
      var fin="";
      var pdiv = 1;
      var pmode = false;
      function evt(key){
        if((key>=0)&&(key<=9)) {
          num=num*10+key;
          if (pmode===true)
            pdiv = pdiv*10;
        }
        document.form1.name.value=num/pdiv;
        
      }

      function bac(){
        if(pmode===false)
        {
          document.form1.name.value=parseFloat(num-num%10)/10;
          num=parseFloat(num-num%10)/10;
        }
        else if(pmode===true) 
        {
          pdiv = pdiv / 10;
          num = Math.floor(num / 10);
          document.form1.name.value=parseFloat(num)/pdiv  ;
          //document.form1.name.value=parseFloat(num-num%10)/pdiv  ;
          // num=parseFloat(num-num%10)/pdiv ; 
          if (pdiv < 5) pmode = false;
        }
        if (num===0)
        {
        num=0;
        count=1;
        arl=0;
        pdiv=1;
        pmode = false;
        }
      }

      function cls(){
        document.form1.name.value=0;
        num=0;
        count=1;
        arl=0;
        pdiv=1;
        pmode = false;
      }
      function add(){
        sing=parseFloat(document.form1.name.value);					
        document.form1.name.value="";	
        num=0;
        arl=1;
        
      }
      function sub(){
      	sing=parseFloat(document.form1.name.value);
      	document.form1.name.value="";
      	num=0;
      	arl=2;
        
      }
      function bob(){
      	sing=parseFloat(document.form1.name.value);
      	document.form1.name.value="";
      	num=0;
      	arl=3;
        
      }
      function did(){
      	sing=parseFloat(document.form1.name.value);
      	document.form1.name.value="";
      	num=0;
      	arl=4;
        
      }
      function ans(){
      	var las="";
      	las=parseFloat(document.form1.name.value);
       if (arl===1){fin=sing+las;}
       else if(arl===2){fin=sing-las;}
       else if(arl===3){fin=sing*las;}
       else if(arl===4){fin=sing/las;} 
       	document.form1.name.value=fin;
        num=fin;
        pmode=false;   		
      }
      function dob(){
        if(count%2==0){document.form1.name.value=document.form1.name.value*-1;}
        else {document.form1.name.value=document.form1.name.value*1}
        count=count+1;
      }    
      function percent(){
        document.form1.name.value=document.form1.name.value*0.01;
      }
      function pont() {
        pmode =true;
      }
	</script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
 </body>
</html>